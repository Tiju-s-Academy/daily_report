<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="rule_admin_report" model="ir.rule">
        <field name="name">Admin: See All Reports</field>
        <field name="model_id" ref="model_employee_report"/>
        <field name="groups" eval="[(4, ref('admin_report'))]"/>
        <field name="domain_force">[(1, '=', 1)]</field>
    </record>
    <record id="rule_manager_report" model="ir.rule">
    <field name="name">Manager: See Own and Subordinate Reports</field>
    <field name="model_id" ref="model_employee_report"/>
    <field name="groups" eval="[(4, ref('manager_report'))]"/>
    <field name="domain_force">[
        '|',
        ('name', '=', user.employee_id.id),
        ('name.parent_id', 'child_of', user.employee_id.id),
        ('state', '!=', 'draft')
    ]</field>
</record>
    <record id="rule_user_report" model="ir.rule">
        <field name="name">User: See Own</field>
        <field name="model_id" ref="model_employee_report"/>
        <field name="groups" eval="[(4, ref('user_report'))]"/>
        <field name="domain_force">[('create_uid', '=', user.id)]</field>
    </record>
</odoo>
